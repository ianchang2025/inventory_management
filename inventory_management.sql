CREATE DATABASE IF NOT EXISTS inventory_management;
SHOW DATABASES;
USE inventory_management;

SET FOREIGN_KEY_CHECKS = 0;
TRUNCATE TABLE Order_Detail;
TRUNCATE TABLE Order_;
TRUNCATE TABLE Product_;

CREATE TABLE IF NOT EXISTS Product_ (
    Product_ID CHAR(4) PRIMARY KEY,
    Product_Name VARCHAR(20),
    Price VARCHAR(10),
    Quantity VARCHAR(10)
);

CREATE TABLE IF NOT EXISTS Order_ (
    Order_ID CHAR(16) PRIMARY KEY,
    Product_Name VARCHAR(10),
    Price VARCHAR(10),
    PayStatus INT
);

CREATE TABLE IF NOT EXISTS Order_Detail (
    Order_ItemSN INT PRIMARY KEY,
    Order_ID CHAR(16),
    Product_ID CHAR(4),
    Quantity INT,
    Stand_Price INT,
    Item_Price INT,
    FOREIGN KEY (Order_ID) REFERENCES Order_(Order_ID),
    FOREIGN KEY (Product_ID) REFERENCES Product_(Product_ID)
);

INSERT INTO Product_ VALUES('P001', 'osii舒壓按摩椅', 98000, 5);
INSERT INTO Product_ VALUES('P002', '網友最愛起司蛋糕', 1200, 20);
INSERT INTO Product_ VALUES('P003', '真愛密碼項鍊', 8500, 20);

INSERT INTO Order_ VALUES('Ms20250801186230', 458, 98000, 1);
INSERT INTO Order_ VALUES('Ms20250805157824', 55688, 9700, 0);
INSERT INTO Order_ VALUES('Ms20250805258200', 1713, 2400, 1);

INSERT INTO Order_Detail VALUES(1, 'Ms20250801186230', 'P001', 1, 98000, 98000);
INSERT INTO Order_Detail VALUES(2, 'Ms20250805157824', 'P002', 1, 1200, 1200);
INSERT INTO Order_Detail VALUES(3, 'Ms20250805157824', 'P003', 1, 8500, 8500);
INSERT INTO Order_Detail VALUES(4, 'Ms20250805258200', 'P002', 2, 1200, 2400);
    
SELECT* FROM Product_;
SELECT* FROM Order_;
SELECT* FROM Order_Detail;
